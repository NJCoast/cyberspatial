# Notes on Google Cloud Platform and Kubernetes

The base configuration for Kubernetes is generated by the [kompose](http://kompose.io/) tool from the default docker-compose.yml file (which is the deployment, not development configuration).

Secrets for deployment should be stored in a seperate yml that is NOT commited to github.


## Kubernetes on local mac environment
I turned off docker for mac to be safe. In principle, docker will try socket file first, the env, so both should be able to coexist.

Get docker machine going with xhyve (built in mac) virtualization.
```bash
docker-machine create --driver xhyve xhyve-test
docker-machine env xhyve-test
eval $(docker-machine env xhyve-test)
```

Start minicube with docker environment and the xhyve driver (otherwise it trys to grab virtualbox base box instead).
```bash
minikube start --docker-env eval $(docker-machine env xhyve-test) --vm-driver=xhyve
```

Run sample project. Kubectl should work as normal after this using env variables.
```bash
kubectl run hello-minikube --image=gcr.io/google_containers/echoserver:1.4 --port=8080
```


